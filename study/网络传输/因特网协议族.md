**那什么是因特网协议族？**

[baidu百科 internet协议](https://baike.baidu.com/item/Internet%E5%8D%8F%E8%AE%AE/11049108?fr=aladdin)

# Internet协议 #

  Internet协议(Internet Protocol-IP)是一个**协议簇的总称**，其**本身并不是任何协议**。一般有文件传输协议、电子邮件协议、超文本传输协议、通信协议等。

	原来因特网协议族就是IP协议族，不过值得注意的是IP协议本身并不是任何协议，而是一个协议簇的总称。

## 协议介绍 ##

**产生原因**

  IP协议是用于将多个包交换网络连接起来的，它在源地址和目的地址之前传送一种称之为数据包的东西，它还提供对数据大小的重新组装功能，以适应不同网络对包大小的要求。

**范围**

  IP的责任就是把数据从源传送到目的地。它**不负责**保证传送可靠性，流控制，包顺序和其他对于主机到主机协议来说很普通的服务。

**接口**

  这个协议由主机到主机协议调用，而此协议负责调用本地网络协议将数据报传以下一个网关或目的主机。例如TCP可以调用IP协议，在调用时传送目的地址和源地址作为参数，IP形成数据报并调用本地网络(协议)接口传送数据报。

**操作**

  IP实现两个基本功能：**寻址和分段**。IP可以根据数据报报头中包括的目的地址将数据报传送到目的地址，在此过程中IP负责选择传送的道路，这种选择道路称为路由功能。如果有些网络内只能传送小数据报，IP可以将数据报重新组装并在报头域内注明。IP模块中包括这些基本功能，这些模块存在于网络中的每台主机和网关上，而且这些模块(特别是在网关上)有路由选择和其它服务功能。对IP来说，数据报之间没有什么联系，对IP不好说什么连接或逻辑链路。

  IP使用四个关键技术提供服务：**服务类型**，**生存时间**，**选项**和**报头校验码**。

  服务类型指希望得到的服务质量。服务类型是一个参数集，这些参数是Internet能够提供服务的代表。这种服务类型由网关使用，用于在特定的网络，或是用于下下一个要经过的网络，或是下一个要对这个数据报进行路由的网关上选择实际的传送参数。

  生存时间是数据报可以生存的时间上限。它由发送者设置，由经过路由的地方处理。如果未到达时生存时间为零，抛弃此数据报。

  对于控制函数来说选项是重要的，但对于通常的通信来说它没有存在的必要。选项包括时间戳，安全和特殊路由。

  报头校验码保证数据的正确传输。如果效验出错，抛弃整个数据报。

  IP**不提供**可靠的传输服务，它不提供端到端或（路由）结点到（路由）结点的确认，对数据没有差错控制，它只使用报头的校验码，它不提供重发和流量控制。*如果出错可以通过ICMP报告，ICMP在IP模块中实现。*

## 内容 ##

**文件传输协议**

  文件传输协议(File Transfer Protocol - FTP) 是一套允许文件在不同的Internet计算机之间进行交换的规则。它与HTTP不同，后者供网页浏览器请求网页和相关文件以显示某一页面，FTP只是用来将文件从一台计算机传送到另一台。网站开发人员通常使用FTP将网页从他们自己的计算机传送到服务器，FTP也常常用来将程序和文件从其他服务器下载到个人计算机。

**电子邮件协议**

  我们大部分人对电子邮件已经司空见惯，但它的顺利运行牵涉到两台服务器：一台邮件接收服务器和一台邮件发送服务器。当你给别人发送邮件时，使用的是**简单邮件传输协议**(SMTP - Simple Mail Transfer Protocol);当你接收邮件时，使用的是**邮局协议**(POP，现在是POP3)  和Internet信息存取协议(IMAP)。

**超文本传输协议**

  超文本传输协议HTTP是一组在Web上传输文件的规则，例如文本、图形图像、声音和其他多媒体文件。网页浏览器和网页服务器通常使用这一协议。当网页浏览器用户以输入网址或点击超级链接的方式请求一个文件的时候，浏览器便建立一个HTTP请求并把它发送到服务器，目标机器上的网页服务器收到请求后进行必要的处理，再将被请求的文件和相关的媒体文件发送出去，进行应答。

## 通信协议 ##

 ### 一、通信协议的种类和特点 ###

  目前常见的通信协议主要有:NetBEUI、IPX/SPX、NWLink、TCP/IP，在这几种协议中用得最多、最为复杂的当然还是TCP/IP协议，最为简单的是NetBEUI协议，它简单得不需要任何设置即可成功配置。

**1、NetBEUI协议**

  NetBEUI协议（NetBIOS Extend User Interface）,即用户扩展接口，它是由IBM公司于1985年开发的，它是一种体积小、效率高、速度快的通信快的通信协议，同时它也是微软最为喜爱的一种协议。它主要适用于早期的微软操作系统如：DOS、LAN Manager、Windows3.x和Windows for Workgroup，但微软在当今流行的WIN9X和WINNT中仍把它视为固有缺省协议，由此可见它并不是我们所认为是“多余”的，而且在有的操作系统中连网还是必不可少的，如在用WIN9X和WINME组网进入NT网络时一定不能仅用TCP/IP协议，还必需加上"NetBEUI"协议，否则就无法实现网络连通。

  因为它出现比较早，也就有它的局限性，NetBEUI是专门为几台到百多台机所组成的单段网络而设计的，它不具有跨网段工作的能力，也就是说它不具备有“路由”功能，**如果你在一台服务器或工作站上安装了多个网卡做网桥时，将不能使用NetBEUI作为通信协议**

  NetBEUI通信协议的特点就是：

1. 体积小，因原来就要是DOS、LAN Manager等较低版本的操作系统，故它对系统的要求不高，运行后占用系统资源最少；
2. 如上所述，或许是因为主要服务的对象是较低版本的操作系统，它不具有路由功能，不能实现跨网络通信；
3. 因为简单，对系统要求低，也就适合初学组网人员学习使用。

**2、IPX/SPX协议**

  IPX/SPX协议(Internetwork Packet Exchange/Sequences Packet Exchange) 即网际包交换/顺序包交换。它是NOVELL公司为了适应网络的发展而开发的通信协议，它的体积比较大，但它在复杂环境下有很强的适应性，同时它也具有“路由”功能，能实现多网段间的跨段通信。当用户接入的是NetWare服务器时，IPX/SPX及其兼容协议应是最好的选择。但如在Windows环境中一般不用它，特别要强调的是在NT网络和WIN9X对等网中无法直接用IPX/SPX进行通信。

  IPX/SPX的工作方式较简单，不需要任何配置，它可通过“网络地址”来识别自己的身份。在整个协议中IPX是NetWare最底层的协议，它只负责数据在网络中的移动，并不保证数据传输是否成功，而SPX在协议中负责对整个传输的数据进行无差错处理。在NT中提供了两个IPX/SPX的兼容协议:NWLink IPX/SPX兼容协议、NWLink NetBIOS,两者统称为NWLink通信协议。它继承了IPX/SPX协议的优点，更适应了微软的操作系统和网络环境，当需要利用Windows系统进入NetWare服务器时，NWLink通信协议是最好的选择。

**3、TCP/IP协议**

  TCP/IP协议(Transmission Control Protocol/Internet Protocol) 即传输控制协议/网际协议。它是**微软公司**为了适应不断发展的网络，实现自己主流操作系统与其他系统间不同网络的互连而收购开发的，它是目前最常用的一种协议(包括INTERNET),也可算是网络通信协议的一种通信标准协议，同时它也是最复杂、最为庞大的一种协议。TCP/IP协议最早用于UNIX系统中，现在是Internet的基础协议。

  TCP/IP通信协议具有**灵活性**，**支持任意规模的网络**，几乎可连接所有的服务器和工作站，因为灵活性所以带来了它的**复杂性**，它**需要针对不同网络进行不同设置**，且每个节点至少需要一个“IP地址”、一个“子网掩码”、一个“默认网关”和一个“主机名”。但是在局域网中微软为了简化TCP/IP协议的设置，在NT中配置了一个**动态主机配置协议**(DHCP),它可由客户端自动分配一个IP地址，避免了出错。

  TCP/IP通信协议当然也有“路由”功能，它的地址是分级的，不同于IPX/SPX协议，这样系统就很容易找到网上的用户，IPX/SPX协议用的是一种广播协议，它经常会出现广播包堵塞，无法获得最佳网络带宽。*但特别要注意的一点就是在用WIN9X和WINME组网进入NT网络时一定不能仅用TCP/IP协议，还必需加上“NetBEUI”协议，否则就无法实现网络连通。*

## 总览 ##

### 功能描述 ###

  IP的功能就是把数据报在互联的网络上传送，通过将数据报在一个个IP模块间传送直到目的模块来达到目的。网络中的每个主机和网关上都有IP模块。数据报在一个个模块间通过路由处理网络地址传送到目的地址。因此网络地址对于IP协议十分重要。如前所述，因为各个网络上的数据报大小可能不同，因此有必要对大的数据报进行分段。

**寻址**

  名字，地址和路由是有区别的，名字是我们要找的，地址指出这个名字在什么地方，路由解决如何到那里的问题。IP主要处理地址的问题。把名字和地址进行映射的工作是由上层协议完成。IP模块**将地址和本地网络地址加以映射**，而将本地网络地址和路由进行映射则是低层协议的任务。

  地址是32位长，由网络号和本地地址两部分构成。地址有三类：A类的最高位为0，后7位表示网络号，其它的24位表示本地地址；B类前两位为10，后14位表示网络地址，其它16位表示本地地址；C类三位为110，后21位是网络号，其它8位代表本地地址。

  在将网络地址和本地网络地址进行映射时必须注意，有些主机可能使用几个不同的IP地址(可把本地网络地址理解为MAC地址)。我们必须能够处理一台主机有几个处理端口，而每个端口都有几个逻辑的IP地址。

**分段**

  对于不同的网络，其中传送的包大小可能不一样，因此把大包分小的功能是必须的。数据报也可以被标记为“不可分段”，如果一个数据报被标记了，那么在任何情况下都不准对它进行分段。如果不分段到不了目的地，那就把包在半路抛弃了。在本地网内进行的重新分段和重组对IP模块是不可见的

  本地网分段和重组把重组的各段加上标记，接收方使用这些标记使不同的段区别开来。段偏移量域告诉接收方应该把这一段放在什么地方，多段标记指示最后一个段，利用不同的域完全可以重组一个数据报。标记域是用于唯一标记数据报的，它是最初的发送方设置，而且要保证数据报在网络传输的全过程中它的唯一。

	假设IP模块把一个大数据报分为两个小的。

	IP模块首先取得数据报头，再分隔数据为两份，将数据报头加在两份数据上。
	分隔数据时以8个字节为单位(第二段不一定是8个字节，但第一个必须是)。
	我们把第一段中的8位字节数称为段块数(NFB)。新生成的第一个数据报内是生成的第一段数据，设置多段标记为1；新生成的第二个数据报内是生成的第二段数据，多段标记等于原来数据报内的值，段偏移量等于原数据报中的值加上NFB。
	
	上述过程可从2扩展至N的情况。

  对段的重组要求以下四个域有相同的值：标记，源地址，目标地址和协议。将不同的数据报根据自己带的偏移量重新组合为新段，第一个段的偏移量为0，最后一个段的多段标记为0.

**网关**

  网关在不同网络间传送数据报，网关也实现网关到网关协议(GGP),它用于传送路由和其他控制信息。网关中的高层协议根本不用实现，GGP的功能可以在IP模块内实现。

